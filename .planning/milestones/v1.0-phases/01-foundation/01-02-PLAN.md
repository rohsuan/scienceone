---
phase: 01-foundation
plan: 02
type: execute
wave: 2
depends_on:
  - 01-01
files_modified:
  - src/app/globals.css
  - src/app/layout.tsx
  - src/app/(main)/layout.tsx
  - src/app/(main)/page.tsx
  - src/components/layout/Header.tsx
  - src/components/layout/Footer.tsx
  - src/components/ui/
  - components.json
  - tailwind.config.ts
autonomous: true
requirements:
  - AUTH-02

must_haves:
  truths:
    - "Non-logged-in user sees a branded landing page with tagline, value proposition, and sign-up/login buttons"
    - "Header appears on all pages with logo, nav link placeholders, and auth controls (Login button when logged out)"
    - "Footer appears on all pages with logo, copyright, and links (About, Contact, Terms, Privacy)"
    - "Typography uses serif font (Lora) for headings and sans-serif (Inter) for body text"
    - "Color palette is navy/indigo primary with white backgrounds — clean academic aesthetic"
  artifacts:
    - path: "src/app/layout.tsx"
      provides: "Root layout with fonts (Lora + Inter) and CSS variables"
      contains: "Lora"
    - path: "src/app/globals.css"
      provides: "Tailwind v4 theme with academic colors"
      contains: "@theme"
    - path: "src/app/(main)/layout.tsx"
      provides: "Main layout wrapping Header + Footer around page content"
      contains: "Header"
    - path: "src/app/(main)/page.tsx"
      provides: "Landing page for non-logged-in users"
      min_lines: 30
    - path: "src/components/layout/Header.tsx"
      provides: "Site header with logo, nav, auth controls"
      contains: "Header"
    - path: "src/components/layout/Footer.tsx"
      provides: "Site footer with branding and links"
      contains: "Footer"
  key_links:
    - from: "src/app/(main)/layout.tsx"
      to: "src/components/layout/Header.tsx"
      via: "component import"
      pattern: "import.*Header"
    - from: "src/app/(main)/layout.tsx"
      to: "src/components/layout/Footer.tsx"
      via: "component import"
      pattern: "import.*Footer"
    - from: "src/app/layout.tsx"
      to: "src/app/globals.css"
      via: "CSS import"
      pattern: "import.*globals"
---

<objective>
Establish the visual design system (Tailwind v4 academic theme, shadcn/ui components, typography) and build the site-wide layout shell — Header, Footer, and landing page — that all subsequent pages live within.

Purpose: Every page in the application needs the academic aesthetic, consistent header/footer, and design tokens. This plan delivers the visual foundation so auth pages and dashboard can be built on top of a polished, real-feeling product.

Output: Root layout with Lora/Inter fonts, Tailwind v4 theme with navy/indigo academic palette, shadcn/ui initialized, Header with nav placeholders, Footer with branding, and a branded landing page for non-logged-in users.
</objective>

<execution_context>
@/Users/roh/.claude/get-shit-done/workflows/execute-plan.md
@/Users/roh/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-RESEARCH.md
@.planning/phases/01-foundation/01-CONTEXT.md
@.planning/phases/01-foundation/01-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Configure design system — Tailwind v4 theme, shadcn/ui, fonts</name>
  <files>
    src/app/globals.css
    src/app/layout.tsx
    components.json
    src/components/ui/
  </files>
  <action>
    1. Initialize shadcn/ui (use canary CLI for Tailwind v4 compatibility per RESEARCH.md):
       ```
       npx shadcn@canary init
       ```
       Accept defaults: New York style, slate base color, CSS variables enabled. If it asks about Tailwind v4 — confirm yes.

    2. Add the shadcn/ui components needed for this plan and later auth forms:
       ```
       npx shadcn@canary add button input label form card toast badge avatar separator dropdown-menu
       ```

    3. Update `src/app/globals.css` with the academic design system:
       - Import tailwindcss and tw-animate-css (shadcn may already configure this)
       - Add `@theme inline` block with custom colors:
         - `--color-primary`: deep navy/indigo — `oklch(30% 0.12 260)` (scholarly deep blue)
         - `--color-primary-foreground`: near-white — `oklch(98% 0.005 260)`
         - `--color-accent`: warm indigo highlight — `oklch(45% 0.15 270)`
         - `--color-accent-foreground`: white
         - `--color-muted`: light gray for backgrounds — `oklch(96% 0.005 260)`
         - `--color-muted-foreground`: medium gray for secondary text — `oklch(55% 0.02 260)`
         - `--color-border`: subtle gray border — `oklch(90% 0.01 260)`
       - Register font families: `--font-serif: var(--font-serif)`, `--font-sans: var(--font-sans)`
       - Keep shadcn's existing CSS variables and layer them with the academic overrides
       - Base styles: `body { @apply bg-white text-slate-900 antialiased; }`
       - Add heading utility: `.heading-serif { @apply font-serif; }` for use on headings

    4. Update `src/app/layout.tsx`:
       - Import `Lora` and `Inter` from `next/font/google`
       - Configure Lora: `subsets: ["latin"], variable: "--font-serif", display: "swap"`
       - Configure Inter: `subsets: ["latin"], variable: "--font-sans", display: "swap"`
       - Apply font CSS variables to `<html>` element: `className={`${lora.variable} ${inter.variable}`}`
       - Set `<body>` className: `font-sans bg-white text-slate-900 antialiased`
       - Set metadata: title "ScienceOne", description "STEM books with beautifully rendered mathematics"
       - Wrap children in a minimal provider setup (can be a simple fragment for now)

    5. Verify fonts load: `npm run dev`, open browser, inspect computed styles — headings should resolve to Lora, body to Inter.
  </action>
  <verify>
    - `npm run dev` starts without CSS or font errors
    - Browser DevTools shows Lora font loading for elements with `font-serif` class
    - Browser DevTools shows Inter font loading for body text
    - shadcn components are available in `src/components/ui/`
    - `components.json` exists with correct configuration
  </verify>
  <done>
    Tailwind v4 theme configured with academic navy/indigo palette, Lora + Inter fonts loaded via next/font, and shadcn/ui initialized with all needed components.
  </done>
</task>

<task type="auto">
  <name>Task 2: Build Header, Footer, main layout, and landing page</name>
  <files>
    src/components/layout/Header.tsx
    src/components/layout/Footer.tsx
    src/app/(main)/layout.tsx
    src/app/(main)/page.tsx
  </files>
  <action>
    1. Create `src/components/layout/Header.tsx` ("use client"):
       - Full-width header with max-w-7xl centered content
       - Left: Logo text "ScienceOne" in serif font (Lora), linked to "/"
       - Center/right: Nav links as placeholders — "Catalog" (href="/catalog", muted/disabled style since not built yet), more can be added later
       - Right: Auth controls area
         - When logged out: "Log in" link (href="/sign-in") + "Get Started" primary button (href="/sign-up")
         - When logged in: User avatar/initial dropdown with "Dashboard" link and "Sign out" button
       - Use `useSession()` from auth-client to detect login state
       - Sticky top, white background with subtle bottom border, generous padding
       - Use shadcn Button, DropdownMenu, Avatar components
       - Responsive: On mobile (<md), collapse nav into a hamburger menu or simplify to just logo + auth controls

    2. Create `src/components/layout/Footer.tsx`:
       - Full-width footer with max-w-7xl centered content
       - Left column: "ScienceOne" logo text in serif + short tagline "Scholarly books for curious minds"
       - Right columns (grid): Links section with "About", "Contact", "Terms of Service", "Privacy Policy" (all href="#" placeholder)
       - Bottom row: "© 2026 ScienceOne. All rights reserved."
       - Muted background color, generous vertical padding, top border
       - Keep footer simple and elegant — academic aesthetic

    3. Create `src/app/(main)/layout.tsx`:
       - Import Header and Footer
       - Layout structure: Header at top, `<main>` with flex-grow for content, Footer at bottom
       - Use min-h-screen flex flex-col so footer stays at bottom even on short pages
       - This layout wraps all pages in the (main) route group

    4. Create `src/app/(main)/page.tsx` — Landing page for non-logged-in users:
       - Hero section: Large serif heading "Where mathematics comes alive", subheading explaining the value prop ("Read STEM books with beautifully rendered formulas, right in your browser"), CTA buttons "Get Started" (primary, links to /sign-up) and "Browse Catalog" (outline, links to /catalog)
       - Features section (3-column grid on desktop): Cards highlighting key features:
         - "Beautiful Math" — LaTeX formulas rendered perfectly
         - "Read Anywhere" — Works on any device, no downloads needed
         - "Academic Quality" — Curated, peer-reviewed content
       - Each feature card uses shadcn Card with an icon area (use a simple SVG or emoji placeholder), heading (serif), and description
       - Generous whitespace between sections, academic feel
       - If user IS logged in (check session server-side via `auth.api.getSession`), redirect to `/dashboard` instead of showing landing page
       - Use `headers` from `next/headers` (must await — Next.js 16) for server-side session check

    5. Verify: Visit `/` — should see the full landing page with header, hero, features, and footer. The page should feel like a real product, not a prototype.
  </action>
  <verify>
    - `npm run dev` and visit `http://localhost:3000` — landing page renders with header, hero, features grid, and footer
    - Header shows "Log in" and "Get Started" buttons (no session)
    - Footer shows logo, links, and copyright
    - Page uses serif headings (Lora) and sans-serif body (Inter)
    - Navy/indigo color scheme is visible on buttons and accents
    - Page is responsive: readable on mobile viewport (375px)
  </verify>
  <done>
    Header with logo + nav placeholders + auth controls, Footer with branding + links, main layout shell, and branded landing page with hero + feature cards — all styled with the academic aesthetic. Non-logged-in visitors see the full landing page; logged-in users are redirected to /dashboard.
  </done>
</task>

</tasks>

<verification>
1. Visit `http://localhost:3000` — landing page renders with full layout (header, hero, features, footer)
2. Header shows "ScienceOne" in serif font, nav placeholders, login/signup buttons
3. Footer shows branding, link sections, copyright
4. Typography: headings in Lora serif, body in Inter sans-serif
5. Colors: navy/indigo primary on buttons and accents, white backgrounds, generous whitespace
6. Responsive: page is usable at 375px mobile viewport
7. `npx tsc --noEmit` — no TypeScript errors
</verification>

<success_criteria>
- Academic aesthetic is clearly visible (serif headings, deep blue palette, generous whitespace)
- Header and Footer are shared components used across all (main) pages
- Landing page communicates ScienceOne's value proposition to new visitors
- shadcn/ui components are available and themed consistently
- Layout is responsive and functional on mobile and desktop
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-02-SUMMARY.md`
</output>
